<% topbar.with_logo(
  root_path: editor_real_root_path(maglev_editing_route_context), 
  logo_url: maglev_editor_logo_url) 
%>

<% topbar.with_page_info do %>
  <%= turbo_frame_tag dom_id(current_maglev_page, 'topbar-page-info'), data: { turbo_sync: true } do %>
    <%= render 'layouts/maglev/editor/topbar/page_info' %>
  <% end %>
<% end %>

<% topbar.with_actions do %>
  <%= render Maglev::Uikit::LocaleSwitcherComponent.new(
    locales: maglev_site.locales.map do |locale|
      { 
        label: locale.label, 
        value: locale.prefix, 
        path: editor_real_root_path(maglev_editing_route_context(locale: locale.prefix)),
        data_attributes: maglev_page_preview_reload_data
      }
    end,
    current_locale: Maglev::I18n.current_locale,
  ) if maglev_site.many_locales? %>

  <%= turbo_frame_tag dom_id(current_maglev_page, 'topbar-publish-button'), data: { turbo_sync: true } do %>
    <%= render 'layouts/maglev/editor/topbar/publish_button' %>  
  <% end %>
<% end %>