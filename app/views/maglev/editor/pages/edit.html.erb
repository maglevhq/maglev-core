<% content_for :drawer do %>
  <%= render Maglev::Uikit::PageLayoutComponent.new(back_path: maglev_page_back_path) do |page_layout| %>
    <% page_layout.with_title_content maglev_edit_page_title(@page) %>
    <% page_layout.with_notification_content maglev_flash_message %>

    <%= form_for @page, 
      url: editor_page_path(@page, maglev_editing_route_context), 
      method: :put,
      html: { 
        class: 'flex flex-col flex-1 overflow-y-hidden', 
        data: { turbo_frame: '_top' } 
      } do |f| 
    %>
      <%= hidden_field_tag :from_list, params[:from_list] %>
      <%= hidden_field_tag :q, params[:q] %>

      <%= f.hidden_field :lock_version %>
      
      <%= render 'maglev/editor/pages/form/tabs', f: f %>
    
      <% content_for :submit_button do %>
        <%= f.submit t('maglev.editor.pages.edit.submit_button.default'), 
          form: f.id,
          class: maglev_button_classes(color: :primary, size: :big),
          data: { turbo_submits_with:  t('maglev.editor.pages.edit.submit_button.in_progress') }
        %>
      <% end %>
    <% end %>

    <% page_layout.with_footer do %>
      <%= yield :submit_button %>
    <% end %>
  <% end %>
<% end %>