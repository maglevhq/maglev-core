<%= render Maglev::Uikit::PageLayoutComponent.new(expanded: true, back_path: editor_root_path(maglev_editing_route_context)) do |page_layout| %>
  <% page_layout.with_title_content @section.type_name %>
  <% page_layout.with_notification_content maglev_flash_message %>

  <% page_layout.with_pre_title do %>
    <%= render Maglev::Uikit::Breadcrumbs::BreadcrumbsComponent.new do |breadcrumbs| %>
      <% breadcrumbs.with_breadcrumb(label: t('maglev.editor.sections.breadcrumbs.sections'), url: editor_sections_path(maglev_editing_route_context), icon: 'stack') %>
    <% end %>
  <% end %>

  
  <%= form_with url: editor_section_path(@section, maglev_editing_route_context), method: :put, data: { 
      controller: 'editor-section-form', 
      'editor-section-form-section-id-value': @section.id,
      action: %(
        editor-setting:change->editor-section-form#onSettingChange
        editor-section-form:updateSetting->editor-preview-notification-center#updateSetting
        editor-section-form:updateSection->editor-preview-notification-center#updateSection
        client:setting:updated@window->editor-section-form#afterSettingUpdate
        dispatcher:section-block-#{@section.id}:persisted@window->editor-section-form#onPersist
      )
    } do 
  %>    
    <%= render 'maglev/editor/sections/form' %>
  <% end %>
<% end %>