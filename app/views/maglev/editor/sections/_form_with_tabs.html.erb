<%= hidden_field_tag 'lock_version', @section.lock_version.presence || 0, data: { editor_section_form_target: 'lockVersion' } %>

<% if @section.definition.blocks.none? && !@section.definition.advanced_settings.any? %>
  <%= render 'maglev/editor/sections/form' %>
<% else %>
  <%= render Maglev::Uikit::TabsComponent.new(container_classes: 'w-full h-full flex flex-col') do |tabs| %>
    <% tabs.with_tab(label: t('maglev.editor.sections.edit.tabs.main')) do %>
      <%= render 'maglev/editor/sections/form' %>
    <% end %>

    <% tabs.with_tab(label: t('maglev.editor.sections.edit.tabs.advanced')) do %>
      <%= render 'maglev/editor/sections/form', advanced: true %>      
    <% end if @section.definition.advanced_settings.any? %>

    <% tabs.with_tab(
        label: @section.blocks_label, 
        link: { url: editor_section_blocks_path(@section, maglev_editing_route_context), html_options: { data: { turbo_frame: '_top' } } }
      ) unless @section.definition.blocks.none?
    %>
  <% end %>
<% end %>
